<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Add middleware to set the default language &mdash; Django Multilingual v0.2 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Django Multilingual v0.2 documentation" href="index.html" />
    <link rel="next" title="Multilingual Flatpages" href="flatpages.html" />
    <link rel="prev" title="Django Multilingual" href="overview.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="flatpages.html" title="Multilingual Flatpages"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="overview.html" title="Django Multilingual"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Django Multilingual v0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="add-middleware-to-set-the-default-language">
<h1>Add middleware to set the default language<a class="headerlink" href="#add-middleware-to-set-the-default-language" title="Permalink to this headline">Â¶</a></h1>
<p>Django contains middleware that automatically discovers the browser&#8217;s language
and allows the user to change it. All translated strings in Python code and
templates are then automatically shown in this language. (See the official
Django documentation.) You can use the same language as the default translation
for model fields.</p>
<p>Add <tt class="docutils literal"><span class="pre">multilingual.middleware.DefaultLanguageMiddleware</span></tt> to your <tt class="docutils literal"><span class="pre">MIDDLEWARE_CLASSES</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">MIDDLEWARE_CLASSES</span> <span class="o">=</span> <span class="p">(</span>
    <span class="c">#...</span>
    <span class="s">&#39;django.middleware.locale.LocaleMiddleware&#39;</span><span class="p">,</span>
    <span class="s">&#39;multilingual.middleware.DefaultLanguageMiddleware&#39;</span><span class="p">,</span>
    <span class="c">#...</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The multilingual middleware must come after the language discovery middleware,
in this case <tt class="docutils literal"><span class="pre">django.middleware.locale.LocaleMiddleware</span></tt>.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="overview.html"
                                  title="previous chapter">Django Multilingual</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="flatpages.html"
                                  title="next chapter">Multilingual Flatpages</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/middleware.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="flatpages.html" title="Multilingual Flatpages"
             >next</a> |</li>
        <li class="right" >
          <a href="overview.html" title="Django Multilingual"
             >previous</a> |</li>
        <li><a href="index.html">Django Multilingual v0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Marcin Kaszynski.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
  </body>
</html>